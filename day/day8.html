const quizContainer = document.getElementById("quiz-container");
const nextBtn = document.getElementById("nextBtn");
let currentQuestion = 0;
let score = 0;

function showQuestion(index) {
  const q = quizData[index];
  quizContainer.innerHTML = `
    <div class="quiz-intro">${q.intro}</div>
    <div class="quiz-question">${q.question}</div>
    <div class="options">
      ${q.options.map(opt => `<button>${opt}</button>`).join("")}
    </div>
    <div class="explanation">${q.explanation}</div>
  `;

  const optionButtons = quizContainer.querySelectorAll(".options button");
  const explanation = quizContainer.querySelector(".explanation");

  optionButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      // Marker valgte svar
      optionButtons.forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");

      // Deaktiver alle knapper
      optionButtons.forEach(b => b.disabled = true);

      // Marker korrekt/forkert
      optionButtons.forEach(b => {
        if (b.textContent === q.answer) {
          b.classList.add("correct"); // altid grÃ¸nt
        } else {
          b.classList.add("wrong");   // altid rÃ¸dt
        }
      });

      // Opdater score kun hvis valgt korrekt
      if (btn.textContent === q.answer) score++;

      // Vis forklaring og nÃ¦ste-knap
      explanation.style.display = "block";
      nextBtn.style.display = "inline-block";
    });
  });
}

nextBtn.addEventListener("click", () => {
  currentQuestion++;
  if (currentQuestion < quizData.length) {
    showQuestion(currentQuestion);
    nextBtn.style.display = "none";
  } else {
    quizContainer.innerHTML = `
      <div class="result">Godt klaret! Du fik ${score} ud af ${quizData.length} rigtige ðŸŽ‰</div>
    `;
    nextBtn.style.display = "none";
  }
});

// Start quiz
showQuestion(currentQuestion);
